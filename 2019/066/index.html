<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=author content="Mogeko"><meta name=description content="Mogeko 的个人博客"><meta name=keywords content="blog,KMS,Hugo,GNU/Linux,Linux,Ubuntu,Rusty Lake: Roots,Hollow Knight,空洞骑士"><link rel=prev href=https://mogeko.me/2019/065/><link rel=next href=https://mogeko.me/2019/067/><link rel=canonical href=https://mogeko.me/2019/066/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>使用 ImgBot 无损压缩博客中的图片 | Mogeko`s Blog</title><meta name=title content="使用 ImgBot 无损压缩博客中的图片 | Mogeko`s Blog"><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/mogeko.me"},"articleSection":"posts","name":"使用 ImgBot 无损压缩博客中的图片","headline":"使用 ImgBot 无损压缩博客中的图片","description":"\x26emsp;\x26emsp; -- 众所周知，GitHub 是最好的博客平台（误 像我一样的很多人都喜欢用 GitHub Pages 来部署自己的博客。而博客中难免会有很多的图片文件，而图片往往比纯字","inLanguage":"zh-cn","author":"Mogeko","creator":"Mogeko","publisher":"Mogeko","accountablePerson":"Mogeko","copyrightHolder":"Mogeko","copyrightYear":"2019","datePublished":"2019-05-19 01:16:34 \x2b0800 \x2b0800","dateModified":"2019-05-19 01:16:34 \x2b0800 \x2b0800","url":"https:\/\/mogeko.me\/2019\/066\/","wordCount":"1081","keywords":["Mogeko`s Blog"]}</script></head><body><div class=wrapper><nav class=navbar><progress class=content_progress max=0 value=0></progress><div class=container><div class="navbar-header header-back2home-logo"><span class=logo_mark>>$</span>
<a href=https://mogeko.me><span class=logo_text>cd /home/</span>
<span class=logo_cursor></span></a></div><div class=navbar-right><span class=menu><a class=menu-item href=/tools/>Tools</a>
<a class=menu-item href=/posts/>Blog</a>
<a class=menu-item href=/categories/>Categories</a>
<a class=menu-item href=/tags/>Tags</a>
<a class=menu-item href=/about/>About</a>
<a class=menu-item href=/tools/></a><a class=menu-item href=/about/ title=Mogeko>Mogeko</a>
<span class=divide></span><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></span></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><progress class=content_progress max=0 value=0></progress><div class=container><div class=navbar><div class="navbar-header header-logo"><a href=https://mogeko.me>Mogeko`s Blog</a></div><div class=navbar-right><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div><div class=menu-toggle><span></span><span></span><span></span></div></div></div><div class=menu id=mobile-menu><nav class=mb-md><a class=menu-item href=/tools/><h3>Tools</h3><div class=menu-active></div></a><a class=menu-item href=/posts/><h3>Blog</h3><div class=menu-active></div></a><a class=menu-item href=/categories/><h3>Categories</h3><div class=menu-active></div></a><a class=menu-item href=/tags/><h3>Tags</h3><div class=menu-active></div></a><a class=menu-item href=/about/><h3>About</h3><div class=menu-active></div></a><a class=menu-item href=/tools/><h3></h3><div class=menu-active></div></a><a class=menu-item href=/about/ title=Mogeko><h3>Mogeko</h3><div class=menu-active></div></a></nav></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">使用 ImgBot 无损压缩博客中的图片</h1><div class=post-meta>Written by <a itemprop=name href=https://mogeko.me rel=author>Mogeko</a> with ♥
<span class=post-time>on <time datetime=2019-05-19 itemprop=datePublished>May 19, 2019</time></span>
in
<i class="iconfont icon-folder"></i><span class=post-category><a href=https://mogeko.me/categories/%E6%8A%98%E8%85%BE%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/>折腾博客的二三事,</a></span>
<span class=post-word-count>1081 words</span></div></header><div class=post-content><p>众所周知，GitHub 是最好的博客平台（误</p><p>像我一样的很多人都喜欢用 GitHub Pages 来部署自己的博客。而博客中难免会有很多的图片文件，而图片往往比纯字符组成的文档大得多，这可能会成为拖慢网站加载时间的重要诱因。为了解决这一问题，很多人会选择使用图床或者国内的 CDN，但这些方案都存在着各种各样的问题 (公共图床可能不稳定，私人图床和 CDN 都需要在公安局备案过的个人域名)。而且这样方案都是将提供图片的服务器搬到了国内，用户加载图片所消耗的流量仍然是原来那么多。</p><p>今天我就换一种思路来缓解这一问题：<strong>通过无损压缩在不减少图片质量的前提下减少图片的大小，从而实现加快加载速度减少流量消耗的目的。</strong></p><p>这一思路实现起来并不难，晚上也有很多无损压缩图片的软件或者网站，难的是让压缩图片这一过程自动化完成。今天介绍的这个服务是我目前找到的最方便最自动的免费方案了。</p><h2 id=关于-imgbot>关于 ImgBot</h2><p>今天的主角叫做 <a href=https://imgbot.net>ImgBot</a>，是一个无损压缩图片的服务。</p><p><img src=https://mogeko.github.io/blog-images/r/066/imgbot_logo.png alt="ImgBot Logo"></p><p>它最厉害的地方在于它可以无缝的与 GitHub 集成在一起，只需要在 <a href=https://github.com/marketplace/imgbot>GitHub Market</a> 上添加了这个服务，ImgBot 就会自动递归扫描并压缩你的所以仓库中的图片文件，然后给你提一个 PR，当你确认无误后，将 PR 合并到相关分支上即可。</p><p>也就是说，你只需要检查并合并分支即可，剩下的事情都交给 ImgBot 来做。</p><h2 id=安装-imgbot>安装 ImgBot</h2><p>因为我已经安装了 ImgBot 了，所以文字与截图上的可能有点出入</p><p>首先来到 <a href=https://github.com/marketplace/imgbot>GitHub Market</a>，点击 <code>Set up a free trial</code></p><p><img src=https://mogeko.github.io/blog-images/r/066/github_market.png alt="GitHub Market"></p><p>然后选择 <code>Open Source</code> (也就是免费的那个方案)，然后点击 <code>Install it for free</code></p><p><img src=https://mogeko.github.io/blog-images/r/066/choose_plan.png alt="Choose Plan"></p><p>检查一下订单，点击 <code>Complete order and begin installation</code></p><p><img src=https://mogeko.github.io/blog-images/r/066/review_order.png alt="Review your order"></p><p>确认一下 ImgBot 可以访问的仓库 (默认 All)，以及授予给 ImgBot 的权限，点击 <code>Install</code></p><p><img src=https://mogeko.github.io/blog-images/r/066/install.png alt=Install></p><p>看到这个页面就说明 ImgBot 服务已经成功的安装到你的 GitHub 账户上了</p><p><img src=https://mogeko.github.io/blog-images/r/066/install_succese.png alt="Install Succses"></p><h2 id=使用-imgbot-压缩图片>使用 ImgBot 压缩图片</h2><p>将 ImgBot 服务安装到你的 GitHub 账户上后，ImgBot 就会自动递归寻找并压缩 Git 仓库中的图片文件 (如果图片比较多，这一步可能回花费几天的时间)，压缩好后会向你提一个像这样的 PR</p><p><img src=https://mogeko.github.io/blog-images/r/066/pr_exm.png alt="Pull request"></p><p>你可以点开 <code>Datails</code> 查看压缩前后大小、压缩率等细节，确认无误后，点击 <code>Merge pull request</code> 开始合并</p><p><img src=https://mogeko.github.io/blog-images/r/066/merge_pull_request.png alt="Merge pull request"></p><p>输入 commit 信息，点击 <code>Confirm merge</code></p><p><img src=https://mogeko.github.io/blog-images/r/066/confirm_merge.png alt="Confirm merge"></p><p>看到以下信息就说明合并成功了</p><p><img src=https://mogeko.github.io/blog-images/r/066/marge_succes.png alt="Marge Succes"></p><p>至此，图片压缩完毕</p><h2 id=设置-imgbot>设置 ImgBot</h2><p>根据 <a href=https://imgbot.net/docs>ImgBot 的官方文档</a>，我们可以通过在 Git 仓库的根目录下放置配置文件 <code>.imgbotconfig</code> 来设置 ImgBot</p><p>目前有三个配置项：</p><ul><li><p>提交 PR 的频率：<code>"schedule"</code></p><ul><li>选项：<code>daily</code> | <code>weekly</code> | <code>monthly</code></li></ul></li><li><p>排除的文件：<code>"ignoredFiles"</code></p><ul><li>选项：被排除文件的路径，支持通配符<code>*</code></li></ul></li><li><p>是否使用有损压缩方式 (压缩率更高)：<code>"aggressiveCompression"</code></p><ul><li>选项：<code>true</code> | <code>false</code></li></ul></li></ul><p>以下是较为完整的例子：</p><pre><code class=language-.imgbotconfig data-lang=.imgbotconfig>{
    &quot;schedule&quot;: &quot;daily&quot;, // daily|weekly|monthly
    &quot;ignoredFiles&quot;: [
        &quot;*.jpg&quot;,                   // ignore by extension
        &quot;image1.png&quot;,              // ignore by filename
        &quot;public/special_images/*&quot;, // ignore by folderpath
    ],
    &quot;aggressiveCompression&quot;: &quot;true&quot; // true|false
}
</code></pre><p>更多详情请参考 <a href=https://imgbot.net/docs>ImgBot 的官方文档</a></p><br><center>·End·</center></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>Mogeko</span></p><p class=copyright-item><span>Link:</span>
<a href=https://mogeko.me/2019/066/>https://mogeko.me/2019/066/</span></p><p class="copyright-item lincese">本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class=post-tags><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://mogeko.me>home</a></span></section></div><div class=post-nav><a href=https://mogeko.me/2019/065/ class=prev rel=prev title="使用 GPG 签名你的 Git Commit"><i class="iconfont icon-left"></i>&nbsp;使用 GPG 签名你的 Git Commit</a>
<a href=https://mogeko.me/2019/067/ class=next rel=next title="在博客中展示 GitHub Chart">在博客中展示 GitHub Chart&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.css><script src=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.min.js></script><script>const gitalk=new Gitalk({clientID:'936cecdd2ab935870ca5',clientSecret:'39cfc7a3cb9a974b6609f3fdaa637e2917e3e40a',repo:'blog-commits',owner:'Mogeko',admin:['Mogeko'],id:location.pathname,distractionFreeMode:false});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return;}
gitalk.render('gitalk-container');})();</script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2017 - 2020</span>
<span class=with-love><i class="iconfont icon-love"></i></span><span class=author itemprop=copyrightHolder><a href=https://mogeko.me>Mogeko</a> |</span>
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a> & <a href=https://github.com/Mogeko/Mogege target=_blank rel="external nofollow">Mogege</a></span></div></footer><script src=/js/vendor_main.min.js defer></script><script src=https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js></script><script>pangu.spacingPage();</script></div></body></html>